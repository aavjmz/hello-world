# CAN Analyzer - CAN总线报文分析工具

## 项目简介

CAN Analyzer是一个基于Python和PyQt6开发的CAN总线报文分析工具，支持多种报文格式解析、DBC文件管理和信号曲线可视化。

## 功能特性

- ✓ **报文格式支持**: ASC、BLF格式文件解析
- ✓ **时间戳处理**: 支持原始时间戳、毫秒、秒三种显示格式
- ✓ **DBC管理**: DBC文件的增删改查功能
- ✓ **信号解析**: 基于DBC的报文信号解析
- ✓ **曲线可视化**: 信号随时间变化的曲线显示
- ✓ **交互操作**: 曲线缩放、平移功能
- ✓ **多视图支持**: 可创建多个视图同时显示不同信号

## 项目结构

```
can_analyzer/
├── __init__.py              # 项目初始化
├── main.py                  # 主程序入口
├── requirements.txt         # 依赖库清单
├── ui/                      # UI模块
│   ├── __init__.py
│   └── main_window.py       # 主窗口UI
├── parsers/                 # 解析器模块
│   └── __init__.py
├── utils/                   # 工具模块
│   └── __init__.py
├── views/                   # 视图模块
│   └── __init__.py
├── tests/                   # 测试模块
│   ├── __init__.py
│   ├── test_structure.py   # 结构验证测试
│   └── test_ui.py          # UI测试
└── resources/               # 资源文件
```

## 安装依赖

```bash
cd can_analyzer
pip install -r requirements.txt
```

## 运行程序

```bash
python main.py
```

## 开发进度

### ✅ 已完成
- [x] 项目环境搭建
- [x] 项目目录结构创建
- [x] UI框架实现（菜单栏、工具栏、状态栏、主布局）
- [x] 项目结构验证测试

### 🚧 进行中
- [ ] ASC文件解析
- [ ] BLF文件解析
- [ ] DBC文件管理
- [ ] 报文显示表格
- [ ] 信号曲线绘制
- [ ] 曲线交互功能

## UI界面布局

```
┌─────────────────────────────────────────────┐
│ 菜单栏: 文件 | DBC | 视图 | 工具 | 帮助    │
├─────────────────────────────────────────────┤
│ 工具栏: [导入] [DBC] [新建视图] ...        │
├──────────────────┬──────────────────────────┤
│                  │                          │
│  报文列表(表格)  │   视图1: 信号曲线显示    │
│  - 时间戳        │   - 可缩放平移           │
│  - CAN ID        │   - 多信号叠加           │
│  - 数据          │                          │
│  - 信号值        ├──────────────────────────┤
│  [滚动条]        │   视图2: 信号曲线显示    │
│                  │                          │
├──────────────────┴──────────────────────────┤
│ 状态栏: 就绪 | 报文数: 1000 | 时间范围...  │
└─────────────────────────────────────────────┘
```

## 技术栈

- **UI框架**: PyQt6
- **CAN处理**: python-can, cantools
- **数据处理**: numpy, pandas
- **曲线绘制**: pyqtgraph, matplotlib
- **文件支持**: asammdf (BLF格式)

## 版本信息

- **版本**: 0.1.0
- **Python**: 3.11+
- **PyQt6**: 6.6.0+

## 许可证

MIT License
